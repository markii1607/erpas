var a;a=function(b,v,y,p){"use strict";var r=b.i.t,o=function(t,i){if(!r.s||!r.s("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";this.c=b.extend(!0,{},r.u.o,o.u,i),this.l={h:new r.v(t),enable:!0,p:!1,k:!1,T:null},this._={};var e=this.l.h.m()[0],n=e.g;if(n)return n;(e.g=this).D()};return b.extend(o.prototype,{blur:function(){this.F()},enable:function(t){this.l.enable=t},focus:function(t,i){this.C(this.l.h.I(t,i))},q:function(t){if(!this.l.T)return!1;var i=this.l.T.I.index();return t.j===i.j&&t.O===i.O},D:function(){this.K();var a=this,r=this.l.h,t=b(r.table().M());if("static"===t.S("position")&&t.S("position","relative"),b(r.table().body()).A("click.keyTable","th, td",function(t){if(!1!==a.l.enable){var i=r.I(this);i.N()&&a.C(i,null,!1,t)}}),b(y).A("keydown.keyTable",function(t){a.P(t)}),this.c.B&&b(y).A("mousedown.keyTable",function(t){b(t.target).G(".dataTables_filter").length&&a.F(),b(t.target).G().filter(r.table().H()).length||b(t.target).G("div.DTE").length||b(t.target).G("div.editor-datetime").length||b(t.target).G().filter(".DTFC_Cloned").length||a.F()}),this.c.J){var n=this.c.J;n.A("open.keyTableMain",function(t,i,e){"inline"!==i&&a.l.enable&&(a.enable(!1),n.L("close.keyTable",function(){a.enable(!0)}))}),this.c.R&&r.A("key-focus.keyTable key-refocus.keyTable",function(t,i,e,n){a.U(null,n)}),r.A("key.keyTable",function(t,i,e,n,s){a.U(e,s)})}r.m()[0].W.V&&r.A("stateSaveParams.keyTable",function(t,i,e){e.o=a.l.T?a.l.T.I.index():null}),r.A("draw.keyTable",function(t){if(!a.l.p){var i=a.l.T;if(i&&i.M&&b(i.M).closest("body")===y.body){var e=a.l.T.X,n=r.page.info(),s=e.j+n.start;if(0===n.Y)return;s>=n.Y&&(s=n.Y-1),a.C(s,e.O,!0,t)}}}),r.A("destroy.keyTable",function(){r.Z(".keyTable"),b(r.table().body()).Z("click.keyTable","th, td"),b(y.body).Z("keydown.keyTable").Z("click.keyTable")});var i=r.state.loaded();i&&i.o?r.L("init",function(){var t=r.I(i.o);t.N()&&t.focus()}):this.c.focus&&r.I(this.c.focus).focus()},F:function(){if(this.l.enable&&this.l.T){var t=this.l.T.I;b(t.M()).$(this.c.className),this.l.T=null,this.tt(t.index().O),this.it("key-blur",[this.l.h,t])}},et:function(){var t=this.l.h;if(this.l.T&&v.getSelection&&!v.getSelection().toString()){var i=this.l.T.I.nt("display"),e=b("<div/>").S({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0}),n=b("<textarea readonly/>").at(i).st(e);try{e.st(t.table().H()),n[0].focus(),n[0].select(),y.execCommand("copy")}catch(t){}e.remove()}},rt:function(){var t=this.l.h,i=t.columns(this.c.columns).ot(),e=[];return t.columns(":visible").every(function(t){-1!==i.indexOf(t)&&e.push(t)}),e},U:function(t,i){var e=this,n=this.l.h,s=this.c.J;b("div.DTE",this.l.T.I.M()).length||16!==t&&(i.stopPropagation(),13===t&&i.preventDefault(),s.L("open.keyTable",function(){s.Z("cancelOpen.keyTable"),e.c.lt&&b("div.DTE_Field_InputControl input, div.DTE_Field_InputControl textarea").select(),n.keys.enable(e.c.ct),n.L("key-blur.editor",function(){s.ft()&&s.submit()}),s.L("close",function(){n.keys.enable(!0),n.Z("key-blur.editor")})}).L("cancelOpen.keyTable",function(){s.Z("open.keyTable")}).ut(this.l.T.I.index()))},it:function(e,n){this.l.h.iterator("table",function(t,i){b(t.dt).ht(e,n)})},C:function(t,i,e,n){var s=this,a=this.l.h,r=a.page.info(),o=this.l.T;if(n||(n=null),this.l.enable){if("number"!=typeof t){var u=t.index();i=u.O,t=a.rows({filter:"applied",order:"applied"}).ot().indexOf(u.j),r.bt&&(t+=r.start)}if(-1!==r.length&&(t<r.start||t>=r.start+r.length))return this.l.p=!0,this.l.k=!0,void a.L("draw",function(){s.l.p=!1,s.l.k=!1,s.C(t,i,p,n)}).page(Math.floor(t/r.length)).vt(!1);if(-1!==b.yt(i,this.rt())){r.bt&&(t-=r.start);var l=a.cells(null,i,{search:"applied",order:"applied"}).pt(),c=a.I(l[t]);if(o){if(o.M===c.M())return void this.it("key-refocus",[this.l.h,c,n||null]);this.F()}var f=b(c.M());if(f.kt(this.c.className),this.tt(i),e===p||!0===e){this.Tt(b(v),b(y.body),f,"offset");var h=a.table().body().parentNode;if(h!==a.table().wt().parentNode){var d=b(h.parentNode);this.Tt(d,d,f,"position")}}this.l.T={I:c,M:c.M(),X:{j:a.rows({page:"current"}).ot().indexOf(c.index().j),O:c.index().O}},this.it("key-focus",[this.l.h,c,n||null]),a.state.save()}}},P:function(t){if(this.l.k)t.preventDefault();else{var i=this.l.enable,e=!0===i||"navigation-only"===i;if(i)if(t.ctrlKey&&67===t.keyCode)this.et();else if(!(0===t.keyCode||t.ctrlKey||t.metaKey||t.altKey))if(this.l.T){var n=this.l.h;if(!this.c.keys||-1!==b.yt(t.keyCode,this.c.keys))switch(t.keyCode){case 9:this._t(t,t.shiftKey?"left":"right",!0);break;case 27:this.l.B&&!0===i&&this.F();break;case 33:case 34:e&&(t.preventDefault(),n.page(33===t.keyCode?"previous":"next").vt(!1));break;case 35:case 36:if(e){t.preventDefault();var s=n.cells({page:"current"}).ot(),a=this.rt();this.C(n.I(s[35===t.keyCode?s.length-1:a[0]]),null,!0,t)}break;case 37:e&&this._t(t,"left");break;case 38:e&&this._t(t,"up");break;case 39:e&&this._t(t,"right");break;case 40:e&&this._t(t,"down");break;default:!0===i&&this.it("key",[n,t.keyCode,this.l.T.I,t])}}}},Tt:function(t,i,e,n){var s=e[n](),a=e.outerHeight(),r=e.outerWidth(),o=i.scrollTop(),u=i.scrollLeft(),l=t.height(),c=t.width();"position"===n&&(s.top+=parseInt(e.closest("table").S("top"),10)),s.top<o&&i.scrollTop(s.top),s.left<u&&i.scrollLeft(s.left),s.top+a>o+l&&a<l&&i.scrollTop(s.top+a-l),s.left+r>u+c&&r<c&&i.scrollLeft(s.left+r-c)},_t:function(t,i,e){var n=this.l.h,s=n.page.info(),a=s.Y,r=this.l.T.I,o=this.rt();if(r){var u=n.rows({filter:"applied",order:"applied"}).ot().indexOf(r.index().j);s.bt&&(u+=s.start);var l=n.columns(o).ot().indexOf(r.index().O),c=u,f=o[l];"right"===i?f=l>=o.length-1?(c++,o[0]):o[l+1]:"left"===i?f=0===l?(c--,o[o.length-1]):o[l-1]:"up"===i?c--:"down"===i&&c++,0<=c&&c<a&&-1!==b.yt(f,o)?(t.preventDefault(),this.C(c,f,!0,t)):e&&this.c.B?this.F():t.preventDefault()}},K:function(){var i=this,e=this.l.h,t=null!==this.c.tabIndex?this.c.tabIndex:e.m()[0].gt;-1!=t&&b('<div><input type="text" tabindex="'+t+'"/></div>').S({position:"absolute",height:1,width:0,overflow:"hidden"}).insertBefore(e.table().M()).children().A("focus",function(t){e.I(":eq(0)",{page:"current"}).N()&&i.C(e.I(":eq(0)","0:visible",{page:"current"}),null,!0,t)})},tt:function(t){var i=this.l.h,e=i.m()[0];if(e.xt){var n=e.xt.l.Dt,s=e.Ft.length-e.xt.l.Ct;(t<n||s<=t)&&i.It().update()}}}),o.u={B:!0,className:"focus",columns:"",J:null,ct:"navigation-only",lt:!0,R:!1,focus:null,keys:null,tabIndex:null},o.version="2.3.1",b.i.t.qt=o,b.i.Et.qt=o,r.v.register("cell.blur()",function(){return this.iterator("table",function(t){t.g&&t.g.blur()})}),r.v.register("cell().focus()",function(){return this.iterator("cell",function(t,i,e){t.g&&t.g.focus(i,e)})}),r.v.register("keys.disable()",function(){return this.iterator("table",function(t){t.g&&t.g.enable(!1)})}),r.v.register("keys.enable()",function(i){return this.iterator("table",function(t){t.g&&t.g.enable(i===p||i)})}),r.jt.selector.I.push(function(t,i,e){var n=i.q,s=t.g,a=[];if(!s||n===p)return e;for(var r=0,o=e.length;r<o;r++)(!0===n&&s.q(e[r])||!1===n&&!s.q(e[r]))&&a.push(e[r]);return a}),b(y).A("preInit.dt.dtk",function(t,i,e){if("dt"===t.Ot){var n=i.Kt.keys,s=r.u.keys;if(n||s){var a=b.extend({},s,n);!1!==n&&new o(i,a)}}}),o},"function"==typeof define&&define.Mt?define(["jquery","datatables.net"],function(t){return a(t,window,document)}):"object"==typeof exports?module.St=function(t,i){return t||(t=window),i&&i.i.t||(i=require("datatables.net")(t,i).At),a(i,t,t.document)}:a(jQuery,window,document);