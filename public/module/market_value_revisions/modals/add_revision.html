<script type="text/ng-template" id="add_revision.html">
    <div block-ui="blockAddRevision">
        <form name="form.addRevision" ng-submit="save(form.addRevision.$valid)" novalidate>
            <div class="modal-header align-items-center">
				<span class="fa-stack fa-lg">
	                <i class="fas fa-square fa-stack-2x text-crimson"></i>
	                <i class="fas fa-plus fa-stack-1x fa-inverse"></i>
	            </span>

				<h5 class="modal-title" style="letter-spacing: 1px;">ADD REVISION</h5>

	            <button type="button" class="close" aria-label="Close" ng-click="closeModal()">
	                <span aria-hidden="true">
	                    <i class="fas fa-times"></i>
	                </span>
	            </button>
            </div>
            <div class="modal-body" id="modal-body">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<div class="form-group mb-3">
                            <label for="rev_class" class="font-weight-bold">Classification:<i class="text-danger">*</i></label>
                            <ui-select ng-model="addRev.classification" id="rev_class" theme="bootstrap" reset-search-input="true" append-to-body="true" ng-change="selectSubClasses()" required>
                                <ui-select-match placeholder="Select Classification">
                                    {{ $select.selected.name }}
                                </ui-select-match>
                                <ui-select-choices style="font-size: 12px;" repeat="clfn in classifications | filter: $select.search | limitTo: infiniteScroll.currentItems" infinite-scroll="addMoreItems()" infinite-scroll-distance="2">
                                    <span>{{clfn.name}}</span>
                                </ui-select-choices>
                            </ui-select>
						</div>
                        <div class="form-group mb-3">
                            <div class="row">
                                <div class="col-6">
                                    <label for="rev_subclass" class="font-weight-bold">Sub-Classification:<i class="text-danger">*</i></label>
                                    <ui-select ng-model="addRev.subclassification" id="rev_subclass" theme="bootstrap" reset-search-input="true" append-to-body="true" required ng-disabled="addRev.classification == undefined">
                                        <ui-select-match placeholder="Select Sub-Classification">
                                            {{ $select.selected.name }}
                                        </ui-select-match>
                                        <ui-select-choices style="font-size: 12px;" repeat="subClfn in sub_classifications | filter: $select.search | limitTo: infiniteScroll.currentItems" infinite-scroll="addMoreItems()" infinite-scroll-distance="2">
                                            <span>{{subClfn.name}}</span>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <div class="col-6">
                                    <label for="rev_no" class="font-weight-bold">Effectivity of Assessment:<i class="text-danger">*</i></label>
                                    <ui-select ng-model="addRev.revision_year" id="rev_no" theme="bootstrap" reset-search-input="true" append-to-body="true" required>
                                        <ui-select-match placeholder="Select Effectivity of Assessment">
                                            {{ $select.selected.year }}
                                        </ui-select-match>
                                        <ui-select-choices style="font-size: 12px;" repeat="rvn in revision_years | filter: $select.search | limitTo: infiniteScroll.currentItems" infinite-scroll="addMoreItems()" infinite-scroll-distance="2">
                                            <span>{{rvn.year}}</span>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
						</div>
						<div class="form-group mb-3">
                            <div class="row">
                                <div class="col-6">
                                    <label for="market_value" class="font-weight-bold">Unit Value:<i class="text-danger">*</i></label>
                                    <input type="number" ng-model="addRev.market_value" class="form-control" id="market_value" placeholder="Enter Unit Value..." autocomplete="off" required />
                                </div>
                                <div class="col-4">
                                    <label for="unit" class="font-weight-bold">Area:<i class="text-danger">*</i></label>
                                    <ui-select ng-model="addRev.unit" id="unit" theme="bootstrap" reset-search-input="true" append-to-body="true" required>
                                        <ui-select-match placeholder="Area">
                                            {{ $select.selected.name }}
                                        </ui-select-match>
                                        <ui-select-choices style="font-size: 12px;" repeat="unit in units | filter: $select.search | limitTo: infiniteScroll.currentItems" infinite-scroll="addMoreItems()" infinite-scroll-distance="2">
                                            <span>{{unit.name}}</span>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="description" class="font-weight-bold">Description:</label>
                            <textarea ng-model="addRev.description" rows="3" class="form-control resize-none" id="description" placeholder="Enter Description..."></textarea>
                        </div>
                        <p class="text-danger font-italic" style="font-size: 10px;">* Fields are required.</p>
                    </div>
                </div>            	
            </div>
            <div class="modal-footer bordered">
				<button type="submit" class="btn btn-default bg-crimson-red" ng-disabled="form.addRevision.$invalid">
					<span>SAVE</span>
				</button>
				<button type="button" class="btn btn-default" ng-click="closeModal()">
					<span>CLOSE</span>
				</button>
			</div>
        </form>
    </div>
</script>